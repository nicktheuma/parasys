@import url('https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:FILL@0..1');

:root {
  /* Global app colors */
  --background-color: #ebebeb;
  --dimension-color: #a7a7a7;
  --interaction-color: #060606;
  --button-bg: #00000012;
  --button-text: #ffffff;
  --button-border: #ffffff;
  --step-button-radius: 0.008;
  --step-button-font-size: 0.008;
  --step-button-outline-width: 0.0004;
  --step-button-outline-opacity-idle: 0.1;
  --step-button-outline-opacity-hover: 1;
  --step-button-fill-opacity-idle: 0.1;
  --step-button-fill-opacity-hover: 0.3;
}

#root {
  width: 100vw;
  height: 100dvh;
  max-width: 100%;
  margin: 0;
  padding: 0rem;
  text-align: center;
}

.loading-overlay {
  position: fixed;
  inset: 0;
  z-index: 2000;
  display: grid;
  place-items: center;
  background: color-mix(in srgb, var(--background-color) 90%, white 10%);
}

.loading-card {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 12px;
  color: var(--interaction-color);
  font-size: 0.95rem;
}

.loading-spinner {
  width: 30px;
  height: 30px;
  border-radius: 50%;
  border: 2px solid #00000022;
  border-top-color: #000000aa;
  animation: spin 0.9s linear infinite;
}

@keyframes spin {
  to {
    transform: rotate(360deg);
  }
}

.public-controls {
  position: fixed;
  left: 50%;
  align-items: center;
  bottom: max(12px, env(safe-area-inset-bottom));
  transform: translateX(-50%);
  z-index: 1200;
  width: min(92vw, 580px);
  display: grid;
  gap: 10px;
  padding: 10px;
  border-radius: 14px;
  background: #ffffff00;
  border: 0px solid #ffffff4d;
  /* backdrop-filter: blur(16px); */
  /* -webkit-backdrop-filter: blur(16px); */
}

.primary-actions {
  display: grid;
  grid-template-columns: repeat(3, auto);
  justify-content: center;
  gap: 12px;
}

.action-bubble {
  width: 64px;
  height: 64px;
  border-radius: 999px;
  border: 1px solid #aeaeaec3;
  background: #ffffff00;
  display: grid;
  place-items: center;
  padding: 0;
  cursor: pointer;
  color: var(--interaction-color);
  font-size: 1.35rem;
  backdrop-filter: blur(16px);
  -webkit-backdrop-filter: blur(16px);
  transition: background-color 0.2s ease, border-color 0.2s ease, transform 0.2s ease;
}

.action-bubble--icon {
  font-size: 0;
}

.action-icon {
  font-size: 1.65rem;
  line-height: 1;
  color: var(--dimension-color);
  font-variation-settings: 'FILL' 0, 'wght' 400, 'GRAD' 0, 'opsz' 24;
  transition: color 0.2s ease, font-variation-settings 0.2s ease;
}

.action-bubble:hover,
.action-bubble:focus-visible {
  background: #ffffff00;
  border-color: #000000;
  border-width: 0caps 0.3px;
  transform: translateY(-1px);
}

.action-bubble:hover .action-icon,
.action-bubble:focus-visible .action-icon {
  color: var(--interaction-color);
  font-variation-settings: 'FILL' 1, 'wght' 500, 'GRAD' 0, 'opsz' 24;
}

.nested-panel {
  width: 100%;
  display: grid;
  gap: 8px;
  justify-items: center;
}

.material-carousel {
  display: grid;
  grid-auto-flow: column;
  grid-auto-columns: minmax(76px, auto);
  gap: 8px;
  overflow-x: auto;
  padding: 2px;
  width: max-content;
  max-width: 100%;
  margin: 0 auto;
}

.option-grid {
  grid-template-columns: repeat(3, minmax(0, 1fr));
  width: min(100%, 420px);
  margin: 0 auto;
}

.material-chip {
  border: 1px solid transparent;
  background: transparent;
  color: var(--interaction-color);
  border-radius: 8px;
  padding: 4px;
  font-size: 1rem;
  cursor: pointer;
  transition: background-color 0.2s ease, border-color 0.2s ease;
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 6px;
  width: 76px;
}

.material-chip,
.public-button {
  border: 1px solid transparent;
  background: transparent;
  color: var(--interaction-color);
  border-radius: 2px;
  padding: 4px;
  font-size: 1rem;
  cursor: pointer;
  transition: background-color 0.2s ease, border-color 0.2s ease;
}

.material-thumb {
  width: 52px;
  height: 52px;
  border-radius: 999px;
  border: 1px solid #ffffff99;
  background-size: cover;
  background-position: center;
  box-shadow: inset 0 1px 0 #ffffff80;
}

.material-label {
  font-size: 0.75rem;
  line-height: 1;
}

.material-chip.is-active .material-thumb,
.material-bubble .material-thumb {
  border-color: #ffffff;
  box-shadow: 0 0 0 2px #ffffff75, inset 0 1px 0 #ffffffb3;
}

.material-thumb--painted {
  background-image: radial-gradient(circle at 30% 30%, #9eb0bf, #526982 70%);
}

.material-thumb--pbr {
  background-image: radial-gradient(circle at 28% 25%, #f5f5f5, #bababa 70%);
}

.material-thumb--chrome {
  background-image: linear-gradient(135deg, #f8f8f8 0%, #8a8a8a 45%, #f1f1f1 100%);
}

.material-thumb--matcap {
  background-image: radial-gradient(circle at 32% 28%, #ffffff 0%, #d7d7d7 55%, #a4a4a4 100%);
}

.material-thumb--wireframe {
  background-image:
    linear-gradient(45deg, #00000033 24%, transparent 24%, transparent 76%, #00000033 76%),
    linear-gradient(-45deg, #00000033 24%, transparent 24%, transparent 76%, #00000033 76%),
    linear-gradient(135deg, #f2f2f2, #b8b8b8);
  background-size: 10px 10px, 10px 10px, cover;
}

.material-thumb--uvdebug {
  background-image:
    linear-gradient(45deg, #111827 25%, #e5e7eb 25%, #e5e7eb 50%, #111827 50%, #111827 75%, #e5e7eb 75%, #e5e7eb 100%),
    linear-gradient(0deg, transparent 0 95%, #1d4ed8 95% 100%),
    linear-gradient(90deg, transparent 0 95%, #0f766e 95% 100%);
  background-size: 14px 14px, 100% 100%, 100% 100%;
}

.public-button {
  width: 100%;
  font-size: 0.85rem;
  border: 1px solid #ffffff8a;
  background: #ffffff1c;
  padding: 7px 8px;
}

.public-button--compact {
  border-radius: 8px;
  letter-spacing: 0.01em;
}

.public-button.is-active {
  border-color: #ffffff;
  background: #ffffff45;
}

.material-chip:hover .material-thumb,
.action-bubble:hover .material-thumb,
.public-button:hover {
  background: #ffffff52;
}

@media (max-width: 640px) {
  .public-controls {
    width: calc(100vw - 16px);
    bottom: max(8px, env(safe-area-inset-bottom));
    border-radius: 12px;
  }

  .option-grid {
    grid-template-columns: repeat(2, minmax(0, 1fr));
  }

  .material-chip {
    width: 100%;
    max-width: 92px;
  }

  .material-thumb {
    width: 46px;
    height: 46px;
  }
}